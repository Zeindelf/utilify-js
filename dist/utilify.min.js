/*@preserve
 * Utilify.js v0.8.0
 * https://github.com/zeindelf/utilify-js
 *
 * Copyright (c) 2017-2018 Zeindelf
 * Released under the MIT license
 *
 * Date: 2018-09-06T22:18:47.137Z
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.UtilifyJS=t()}(this,function(){"use strict";function u(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(s){function o(){}function r(e,t,r){if("undefined"!=typeof document){"number"==typeof(r=u({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var n=JSON.stringify(t);/^[\{\[]/.test(n)&&(t=n)}catch(e){}t=s.write?s.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var a in r)r[a]&&(i+="; "+a,!0!==r[a]&&(i+="="+r[a].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var r={},n=document.cookie?document.cookie.split("; "):[],i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var u=c(a[0]);if(o=(s.read||s)(o,u)||c(o),t)try{o=JSON.parse(o)}catch(e){}if(r[u]=o,e===u)break}catch(e){}}return e?r[e]:r}}return o.set=r,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){r(e,"",u(t,{expires:-1}))},o.defaults={},o.withConverter=n,o}var i,o,e,a,s,l,f,t,p,g,r,h,v,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),b=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},A={version:"2.7.0",areas:{},apis:{},inherit:function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(t){try{return JSON.parse(t)}catch(e){return t}},fn:function(e,t){for(var r in A.storeAPI[e]=t,A.apis)A.apis[r][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,r){e.setItem(t,r)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,r){var n=A.inherit(A.storeAPI,function(e,t,r){return 0===arguments.length?n.getAll():"function"==typeof t?n.transact(e,t,r):void 0!==t?n.set(e,t,r):"string"==typeof e||"number"==typeof e?n.get(e):e?n.setAll(e,t):n.clear()});n._id=e;try{var i="_safariPrivate_";t.setItem(i,"sucks"),(n._area=t).removeItem(i)}catch(e){}return n._area||(n._area=A.inherit(A.storageAPI,{items:{},name:"fake"})),n._ns=r||"",A.areas[e]||(A.areas[e]=n._area),A.apis[n._ns+n._id]||(A.apis[n._ns+n._id]=n),n},storeAPI:{area:function(e,t){var r=this[e];return r&&r.area||(r=A.Store(e,t,this._ns),this[e]||(this[e]=r)),r},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var r=e,n=this[r];return n&&n.namespace||(n=A.Store(this._id,this._area,this._ns+r+"."),this[r]||(this[r]=n),t||n.area("session",A.areas.session)),n},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var r=0,n=A.length(this._area);r<n;r++){var i=this._out(A.key(this._area,r));if(void 0!==i&&!1===e.call(this,i,t||this.get(i)))break;n>A.length(this._area)&&(n--,r--)}return t||this},keys:function(e){return this.each(function(e,t){t.push(e)},e||[])},get:function(e,t){var r=A.get(this._area,this._in(e));return null!==r?A.parse(r):t||r},getAll:function(e){return this.each(function(e,t){t[e]=this.get(e)},e||{})},transact:function(e,t,r){var n=this.get(e,r),i=t(n);return this.set(e,void 0===i?n:i),this},set:function(e,t,r){var n=this.get(e);return null!=n&&!1===r?t:A.set(this._area,this._in(e),A.stringify(t),r)||n},setAll:function(e,t){var r,n;for(var i in e)n=e[i],this.set(i,n,t)!==n&&(r=!0);return r},add:function(e,t){var r=this.get(e);if(r instanceof Array)t=r.concat(t);else if(null!==r){var n=void 0===r?"undefined":y(r);if(n===(void 0===t?"undefined":y(t))&&"object"===n){for(var i in t)r[i]=t[i];t=r}else t=r+t}return A.set(this._area,this._in(e),A.stringify(t)),t},remove:function(e){var t=this.get(e);return A.remove(this._area,this._in(e)),t},clear:function(){return this._ns?this.each(function(e){A.remove(this._area,this._in(e))},1):A.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in A.areas)A.areas.hasOwnProperty(t)&&(this._area=A.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=A.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var r in this.items)if(this.has(r)&&e===t++)return r},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)},toString:function(){return this.length+" items in "+this.name+"Storage"}}},S=A.Store("local",function(){try{return localStorage}catch(e){}}());(S.local=S)._=A,S.area("session",function(){try{return sessionStorage}catch(e){}}()),o=(i=S)._,e=o.set,a=o.get,s=o.remove,l=o.key,f=o.length,t=o.clear,o.overflow=function(e,t){var r=e===o.areas.local?"+local+":e===o.areas.session&&"+session+";if(r){var n=o.areas[r];return t&&!n?n=i.area(r)._area:!1===t&&(delete o.areas[r],delete i[r]),n}},o.set=function(t,r,n){try{e.apply(this,arguments)}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||-1!==e.toString().indexOf("QUOTA_EXCEEDED_ERR")||-1!==e.toString().indexOf("QuotaExceededError"))return o.set(o.overflow(t,!0),r,n);throw e}},o.get=function(e,t){var r=o.overflow(e);return r&&a.call(this,r,t)||a.apply(this,arguments)},o.remove=function(e,t){var r=o.overflow(e);r&&s.call(this,r,t),s.apply(this,arguments)},o.key=function(e,t){var r=o.overflow(e);if(r){var n=f.call(this,e);if(n<=t){t-=n;for(var i=0,a=f.call(this,r);i<a;i++)if(i===t)return l.call(this,r,i)}}return l.apply(this,arguments)},o.length=function(e){var t=f(e),r=o.overflow(e);return r?t+f(r):t},o.clear=function(e){o.overflow(e,!1),t.apply(this,arguments)},p=S._,g="exp@",r=p.parse,h=p.get,v=p.set,p.parse=function(e){return e&&0===e.indexOf(g)&&(e=e.substring(e.indexOf(";")+1)),r(e)},p.expires=function(e){return!(!e||0!==e.indexOf(g))&&parseInt(e.substring(g.length,e.indexOf(";")),10)},p.when=function(e){var t=Math.floor((new Date).getTime()/1e3);return e?new Date(1e3*(t+e)):t},p.cache=function(e,t){var r=h(e,t),n=p.expires(r);return n&&p.when()>=n?e.removeItem(t):r},p.get=function(e,t){var r=p.cache(e,t);return void 0===r?null:r},p.set=function(t,r,e,n){try{n&&(e=g+(p.when()+n)+";"+e),v(t,r,e)}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name){for(var i=!1,a=0,o=t.length;a<o;a++)void 0===p.cache(t,r)&&(i=!0);if(i)return p.set.apply(this,arguments)}throw e}};var w,k={capitalize:function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},escape:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},normalizeText:function(e){var t,r=/(^|[.!?]\s+)([a-z])/g;return t=e,this.strCompact(t.replace(/[,.!?:;]+(?=\S)/g,"$& ")).toLowerCase().replace(r,function(e,t,r){return t+r.toUpperCase()})},pad:function(e,t){for(var r=String(e);r.length<(t||2);)r="0"+r;return r},removeAccent:function(e){var t=/[àáâãäçèéêëìíîïñòóôõöùúûüýÿÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝ]/g;return e.replace(t,function(e){return"_aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY"[t.source.indexOf(e)]})},slugifyText:function(e){e=e.replace(/^\s+|\s+$/g,"").toLowerCase().replace(/\./g,"-").replace(/\*/g,"-").replace(/\+/g,"-");for(var t="àáäâãèéëêìíïîòóöôõùúüûýÿñç·/_,:;",r=0,n=t.length;r<n;r+=1)e=e.replace(new RegExp(t.charAt(r),"g"),"aaaaaeeeeiiiiooooouuuuyync------".charAt(r));return"-"===(e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).charAt(0)&&(e=e.substr(1)),"-"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e},strCompact:function(e){return this.trim(e).replace(/([\r\n\s])+/g,function(e,t){return"　"===t?t:" "})},strReplace:function(e,t,r){var n=void 0;if(E.isArray(e))for(var i=0;i<e.length;i++)e[i]=e[i].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(e[i],"g"),r=r.replace(n,E.isArray(t)?t[i]:t);else e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(e,"g"),r=r.replace(n,E.isArray(t)?t[0]:t);return r},trim:function(e){return E.isString(e)?e.replace(/^\s+|\s+$/gm,""):""},ucfirst:function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)},underscore:function(e){return e.replace(/[-\s]+/g,"_").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},unescape:function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")}},_={camelize:function(n){var i=this,a=function(e){return e=k.underscore(e),(e=k.slugifyText(e)).replace(/[_.-\s](\w|$)/g,function(e,t){return t.toUpperCase()})};return E.isDate(n)||E.isRegExp(n)?n:E.isArray(n)?n.map(function(e,t){return E.isObject(e)?i.camelize(e):e}):E.isString(n)?a(n):Object.keys(n).reduce(function(e,t){var r=a(t);return e[r]=n[t],E.isObject(n[t])&&(e[r]=i.camelize(n[t])),e},{})},contains:function(e,t){if(E.isArray(t))for(var r=0,n=t.length;r<n;r+=1)if(t[r]===e)return!0;return!!E.isString(t)&&0<=t.indexOf(e)},debounce:function(n,o,e){var u=void 0,s=void 0,i=void 0,c=void 0,l=void 0,f=void 0,p=0,g=!1,h=!1,t=!0,r=!o&&0!==o&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof n)throw new TypeError("Expected a function");function v(e){var t=u,r=s;return u=s=void 0,p=e,c=n.apply(r,t)}function y(e,t){return r?window.requestAnimationFrame(e):setTimeout(e,t)}function d(e){var t=e-f;return void 0===f||o<=t||t<0||h&&i<=e-p}function m(){var e,t,r,n=Date.now();if(d(n))return a(n);l=y(m,(t=(e=n)-p,r=o-(e-f),h?Math.min(r,i-t):r))}function a(e){return l=void 0,t&&u?v(e):(u=s=void 0,c)}function b(){for(var e,t=Date.now(),r=d(t),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if(u=i,s=this,f=t,r){if(void 0===l)return p=e=f,l=y(m,o),g?v(e):c;if(h)return l=y(m,o),v(f)}return void 0===l&&(l=y(m,o)),c}return o=+o||0,E.isObject(e)&&(g=!!e.leading,i=(h="maxWait"in e)?Math.max(+e.maxWait||0,o):i,t="trailing"in e?!!e.trailing:t),b.cancel=function(){void 0!==l&&function(e){if(r)return window.cancelAnimationFrame(e);clearTimeout(e)}(l),u=f=s=l=void(p=0)},b.flush=function(){return void 0===l?c:a(Date.now())},b.pending=function(){return void 0!==l},b},getType:function(e){var t={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return t[void 0===e?"undefined":y(e)]||t[{}.toString.call(e)]||(e?"object":"null")},getUrlParameter:function(e,t){t=E.isString(t)?"?"===t.substring(0,1)?t:"?"+t:window.location.href,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},parseJwt:function(e){var t;return JSON.parse((t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),decodeURIComponent(Array.prototype.map.call(atob(t),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))))},resizeImageByRatio:function(e,t,r,n){E.isNumber(t)&&E.isNumber(r)||(t=parseFloat(t,10),r=parseFloat(r,10));var i={};switch(n=n||4,e){case"width":i.width=parseFloat(t,10),i.height=parseFloat((t/r).toFixed(n),10);break;case"height":i.width=parseFloat((t*r).toFixed(n),10),i.height=parseFloat(t,10);break;default:throw new Error("'type' needs to be 'width' or 'height'")}return i},semverCompare:function(e,t){var r=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;[e,t].forEach(function(e){if(!E.isString(e))throw new TypeError("Invalid argument: expected string");if(!r.test(e))throw new Error("Invalid argument: not valid semver")});for(var n=e.split("."),i=t.split("."),a=0;a<3;a++){var o=Number(n[a]),u=Number(i[a]);if(u<o)return 1;if(o<u)return-1;if(!isNaN(o)&&isNaN(u))return 1;if(isNaN(o)&&!isNaN(u))return-1}return 0},stripHost:function(e){return e.toString().replace(/https?:\/\/.*?\//i,"/")},stripHttp:function(e){return e.replace(/^https?:/,"")},throttle:function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return E.isObject(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),this.debounce(e,t,{leading:n,maxWait:t,trailing:i})},times:function(e,t){var r=4294967295;if(e<1||9007199254740991<e)return[];for(var n=-1,i=Math.min(e,r),a=new Array(i);++n<i;)a[n]=t(n);for(e-=n=r;++n<e;)t(n);return a},unserialize:function(e){if((e=E.isString(e)?e:window.location.href).indexOf("?")<0)return{};for(var t={},r=(e=0===e.indexOf("?")?e.substr(1):e.slice(e.indexOf("?")+1)).split("&"),n=0,i=r.length;n<i;n+=1){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}return t}},O=Object.prototype.toString,E={isArguments:function(e){return"[object Arguments]"===O.call(e)||null!=e&&"object"===(void 0===e?"undefined":y(e))&&"callee"in e},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===O.call(e)},isArrayIndex:function(e){return e>>>0===e&&4294967295!==e},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===O.call(e)},isChar:function(e){return this.isString(e)&&1===e.length},isDate:function(e){return"[object Date]"===O.call(e)},isDomNode:function(e){return this.isObject(e)&&0<e.nodeType},isEmail:function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},isEmpty:function(e){var t={undefined:!0,null:!0,number:!1,boolean:!1,function:!1,regexp:!1,date:!1,error:!1},r=_.getType(e),n=void 0;if(t.hasOwnProperty(r))n=t[r];else switch(r){case"object":n=this.isObjectEmpty(e);break;case"string":n=!e;break;case"array":n=!e.length}return n},isError:function(e){return"[object Error]"===O.call(e)},isFunction:function(e){return"[object Function]"===O.call(e)||"function"==typeof e},isJson:function(e){try{var t=JSON.parse(e);return this.isObject(t)}catch(e){}return!1},isNull:function(e){return null===e},isNumber:function(e){var t=Number.isNaN||window.isNaN;return"number"==typeof e&&!t(e)},isNumeric:function(e){return/^[0-9]*\.?[0-9]+$/.test(e)},isObject:function(e){return"object"===(void 0===e?"undefined":y(e))&&null!==e},isObjectEmpty:function(e){if(!this.isObject(e))return!1;for(var t in e)if({}.hasOwnProperty.call(e,t))return!1;return!0},isPercentage:function(e){return this.isNumber(e)&&e<=100&&0<=e},isPlainObject:function(e){if(!this.isObject(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&hasOwnProperty.call(r,"isPrototypeOf")}catch(e){return!1}},isPrimitive:function(e,t){return t=t||(void 0===e?"undefined":y(e)),null==e||"string"===t||"number"===t||"boolean"===t},isRealNaN:function(e){return null!=e&&e!=e},isRegExp:function(e){return"[object RegExp]"===O.call(e)},isSameType:function(e,t){return O.call(e)===O.call(t)},isString:function(e){return"[object String]"===O.call(e)},isUndefined:function(e){return void 0===e}},j={arrayClone:function(e){var r=new Array(e.length);return this._forEach(e,function(e,t){r[t]=e}),r},arrayCompact:function(e){if(!Array.isArray(e))throw new TypeError("arrayCompact() expects an array.");return e.filter(Boolean)},arrayFlatten:function(e,t){var r=this,n=[];return t=t||1/0,r._forEach(e,function(e){E.isArray(e)&&0<t?n=n.concat(r.arrayFlatten(e,t,1)):n.push(e)}),n},arrayIntersection:function(e,t){return e.filter(function(e){return-1!==t.indexOf(e)})},arraySample:function(e,t,r){var n=[],i=void 0,a=void 0,o=void 0;E.isBoolean(t)?a=t:(i=t,a=r),E.isUndefined(i)&&(i=1,o=!0),a||(e=this.arrayClone(e)),i=Math.min(i,e.length);for(var u,s=0;s<i;s+=1)u=Math.trunc(Math.random()*e.length),n.push(e[u]),e.splice(u,1);return o?n[0]:n},arrayUnique:function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})},chunk:function(e,t){t=Math.max(t,0);var r=null===e?0:e.length;if(!r||t<1)return[];for(var n=0,i=0,a=new Array(Math.ceil(r/t));n<r;)a[i++]=this.slice(e,n,n+=t);return a},cleanArray:function(e){for(var t=[],r=0,n=e.length;r<n;r+=1)e[r]&&t.push(e[r]);return t},implode:function(e,t){if(E.isArray(e))return e.join(t||",");if(E.isObject(e)){var r=[];for(var n in e)object.hasOwnProperty(n)&&r.push(e[n]);return r.join(t||",")}return""},explode:function(e,t,r){if(!E.isString(e))throw new Error("'str' must be a String");var n=e.split(t);return void 0!==r&&n.length>=r&&n.push(n.splice(r-1).join(t)),n},shuffleArray:function(e){for(var t=0,r=[],n=[],i=e.length-1;0<i;i--)t=Math.floor(Math.random()*(i+1)),r=e[i],n[i]=e[t],n[t]=r;return n},slice:function(e,t,r){var n=null==e?0:e.length;if(!n)return[];(t=null==t?0:t)<0&&(t=n<-t?0:n+t),(r=n<(r=void 0===r?n:r)?n:r)<0&&(r+=n),n=r<t?0:r-t>>>0,t>>>=0;for(var i=-1,a=new Array(n);++i<n;)a[i]=e[i+t];return a},_getSparseArrayIndexes:function(e,n,t,r){var i=[],a=void 0;for(a in e)E.isArrayIndex(a)&&(t||(r?a<=n:n<=a))&&i.push(+a);return i.sort(function(e,t){var r=n<e;return r!==n<t?r?-1:1:e-t}),i},_iterateOverSparseArray:function(e,t,r,n){for(var i=this._getSparseArrayIndexes(e,r,n),a=void 0,o=0,u=i.length;o<u;o+=1)a=i[o],t.call(e,e[a],a,e);return e},_forEach:function(e,t){for(var r=0,n=e.length;r<n;r+=1){if(!(r in e))return this._iterateOverSparseArray(e,t,r);t(e[r],r)}}},x=function(e,t){return t=t||".",e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},N=function(e,t){var s=new Map;s.set(3,"K"),s.set(6,"M"),s.set(9,"B"),s.set(12,"T"),s.set(15,"P"),s.set(18,"E"),e=function(e){if(!E.isNumber(e))throw new Error("Input value is not a number");return parseFloat(e,10)}(e);var r=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=s.keys()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var u=a.value;u<e&&(t=u)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return{suffix:s.get(t),zeroes:t}}(Math.floor(Math.log10(Math.abs(e)))+1,null),n=e/Math.pow(10,r.zeroes);return t=n%1==0?2:Math.max(1,t+1)||3,-1e3<e&&e<1e3?e:""+parseFloat(n.toPrecision(t))+r.suffix},R=function(e){var t=parseFloat(e);return void 0===t?e:t.toString().length!==e.toString().length?e:Number.isNaN(t)?e:t},C={deepFreeze:function(t){var r=this;return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!==y(t[e])&&"function"!=typeof t[e]||Object.isFrozen(t[e])||r.deepFreeze(t[e])}),t},extend:function(r){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];if(E.isObject(r)&&0<t.length){if(Object.assign)return Object.assign.apply(Object,[r].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));t.forEach(function(t){E.isObject(t)&&Object.keys(t).forEach(function(e){r[e]=t[e]})})}return r},getDescendantProp:function(e,t){if(!E.isPlainObject(e))throw new TypeError("'obj' param must be an plain object");return t.split(".").reduce(function(e,t){return e&&e[t]},e)},length:function(e){return E.isUndefined(e.length)?E.isObject(e)?Object.keys(e).length:0:e.length},objectArraySortByValue:function(e,n,i){var a=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!E.isArray(n)||n.length<1){var r=function(e,t,r){return a.getDescendantProp(e,r).toString().localeCompare(a.getDescendantProp(t,r).toString(),void 0,{numeric:!0})};return e.slice().sort(function(e,t){return o?-r(e,t,i):r(e,t,i)})}return e.slice().sort(function(e,t){var r=n.indexOf(a.getDescendantProp(e,i).toString())-n.indexOf(a.getDescendantProp(t,i).toString());return o?-1*r:r})},objectSearch:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=void 0,i=void 0,a=void 0,o=void 0,u=function(e){return r?_.camelize(e).toLowerCase():e};for(n in t)t.hasOwnProperty(n)&&(a=t[i=n]);for(n in e)if(n===i){if(u(e[n])===u(a))return e}else if(e[n]instanceof Object&&e.hasOwnProperty(n)&&(o=this.objectSearch(e[n],t,r)))return o;return!1},objectToArray:function(t){if(!E.isPlainObject(t))throw new Error("'obj' must be a plain object");return Object.keys(t).map(function(e){return t[e]})}},P=function(){function e(){d(this,e)}return m(e,[{key:"isArguments",value:function(e){return E.isArguments(e)}},{key:"isArray",value:function(e){return E.isArray(e)}},{key:"isArrayIndex",value:function(e){return E.isArrayIndex(e)}},{key:"isBoolean",value:function(e){return E.isBoolean(e)}},{key:"isChar",value:function(e){return E.isChar(e)}},{key:"isDate",value:function(e){return E.isDate(e)}},{key:"isDomNode",value:function(e){return E.isDomNode(e)}},{key:"isEmail",value:function(e){return E.isEmail(e)}},{key:"isEmpty",value:function(e){return E.isEmpty(e)}},{key:"isError",value:function(e){return E.isError(e)}},{key:"isFunction",value:function(e){return E.isFunction(e)}},{key:"isJson",value:function(e){return E.isJson(e)}},{key:"isNull",value:function(e){return E.isNull(e)}},{key:"isNumber",value:function(e){return E.isNumber(e)}},{key:"isNumeric",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return isNumeric(e)})},{key:"isObject",value:function(e){return E.isObject(e)}},{key:"isObjectEmpty",value:function(e){return E.isObjectEmpty(e)}},{key:"isPercentage",value:function(e){return E.isPercentage(e)}},{key:"isPlainObject",value:function(e){return E.isPlainObject(e)}},{key:"isPrimitive",value:function(e,t){return E.isPrimitive(e,t)}},{key:"isRealNaN",value:function(e){return E.isRealNaN(e)}},{key:"isRegExp",value:function(e){return E.isRegExp(e)}},{key:"isSameType",value:function(e,t){return E.isSameType(e,t)}},{key:"isString",value:function(e){return E.isString(e)}},{key:"isUndefined",value:function(e){return E.isUndefined(e)}},{key:"arrayClone",value:function(e){return j.arrayClone(e)}},{key:"arrayCompact",value:function(e){return j.arrayCompact(e)}},{key:"arrayFlatten",value:function(e,t){return j.arrayFlatten(e,t)}},{key:"arrayIntersection",value:function(e,t){return j.arrayIntersection(e,t)}},{key:"arraySample",value:function(e,t,r){return j.arraySample(e,t,r)}},{key:"arrayUnique",value:function(e){return j.arrayUnique(e)}},{key:"camelize",value:function(e){return _.camelize(e)}},{key:"capitalize",value:function(e){return k.capitalize(e)}},{key:"chunk",value:function(e,t){return j.chunk(e,t)}},{key:"cleanArray",value:function(e){return j.cleanArray(e)}},{key:"contains",value:function(e,t){return _.contains(e,t)}},{key:"debounce",value:function(e,t,r){return _.debounce(e,t,r)}},{key:"deepFreeze",value:function(e){return C.deepFreeze(e)}},{key:"escape",value:function(e){return k.escape(e)}},{key:"extend",value:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return C.extend.apply(C,[e].concat(r))}},{key:"formatNumber",value:function(e,t){return x(e,t)}},{key:"getDescendantProp",value:function(e,t){return C.getDescendantProp(e,t)}},{key:"getType",value:function(e){return _.getType(e)}},{key:"getUrlParameter",value:function(e,t){return _.getUrlParameter(e,t)}},{key:"implode",value:function(e,t){return j.implode(e,t)}},{key:"explode",value:function(e,t,r){return j.explode(e,t,r)}},{key:"length",value:function(e){return C.length(e)}},{key:"milify",value:function(e,t){return N(e,t)}},{key:"normalizeText",value:function(e){return k.normalizeText(e)}},{key:"objectArraySortByValue",value:function(e,t,r,n){return C.objectArraySortByValue(e,t,r,n)}},{key:"objectSearch",value:function(e,t){return C.objectSearch(e,t)}},{key:"objectToArray",value:function(e){return C.objectToArray(e)}},{key:"pad",value:function(e,t){return k.pad(e,t)}},{key:"parseJwt",value:function(e){return _.parseJwt(e)}},{key:"removeAccent",value:function(e){return k.removeAccent(e)}},{key:"resizeImageByRatio",value:function(e,t,r,n){return _.resizeImageByRatio(e,t,r,n)}},{key:"semverCompare",value:function(e,t){return _.semverCompare(e,t)}},{key:"shuffleArray",value:function(e){return j.shuffleArray(e)}},{key:"slice",value:function(e,t,r){return j.slice(e,t,r)}},{key:"slugifyText",value:function(e){return k.slugifyText(e)}},{key:"stripHost",value:function(e){return _.stripHost(e)}},{key:"stripHttp",value:function(e){return _.stripHttp(e)}},{key:"strCompact",value:function(e){return k.strCompact(e)}},{key:"strReplace",value:function(e,t,r){return k.strReplace(e,t,r)}},{key:"throttle",value:function(e,t,r){return _.throttle(e,t,r)}},{key:"times",value:function(e,t){return _.times(e,t)}},{key:"toNumber",value:function(e){return R(e)}},{key:"trim",value:function(e){return k.trim(e)}},{key:"ucfirst",value:function(e){return k.ucfirst(e)}},{key:"underscore",value:function(e){return k.underscore(e)}},{key:"unescape",value:function(e){return k.unescape(e)}},{key:"unserialize",value:function(e){return _.unserialize(e)}}]),e}(),I="__location",M=14400,D={getUserLocation:function(l,f){var p=this;l&&this._initLocationStorage(f);var e=f.session.get(I);return $.Deferred(function(c){E.isObjectEmpty(e)?window.navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var u=e.coords.latitude,s=e.coords.longitude;if(!window.google)return c.reject("Google Maps Javascript API not found. Follow tutorial: https://developers.google.com/maps/documentation/javascript");var t=new google.maps.LatLng(u,s);(new google.maps.Geocoder).geocode({latLng:t},function(e,t){if(t===google.maps.GeocoderStatus.OK)if(e[1]){for(var r=0,n=e.length;r<n;r+=1)if("locality"===e[r].types[0]){var i=e[r].address_components[0].short_name,a=e[r].address_components[2].short_name,o={coords:{lat:u,lng:s},city:i,state:a,region:p.filteredRegion(a)};l&&f.session.set(I,o,M),c.resolve(o)}}else c.reject("No reverse geocode results.");else c.reject("Geocoder failed: "+t)})},function(e){c.reject("Geolocation not available.")}):c.reject("Geolocation isn't available"):c.resolve(e)}).promise()},filteredRegion:function(i){var e=this;this._validateStateInitials(i);var a="",t=function(n){({}).hasOwnProperty.call(e._regionMap,n)&&e._regionMap[n].some(function(e,t,r){k.removeAccent(e.toLowerCase())===k.removeAccent(i.toLowerCase())&&(a=n)})};for(var r in this._regionMap)t(r);return a},filteredState:function(e){return this._validateStateInitials(e),C.objectSearch(this._stateMap,{name:e},!0)},getStates:function(){return this._stateMap},getRegions:function(){return this._regionMap},_validateStateInitials:function(e){if(e.length<2)throw new Error("'state' must be two letters. e.g. 'SP' or full state name")},_stateMap:[{name:"Acre",initials:"AC",region:"Norte"},{name:"Alagoas",initials:"AL",region:"Nordeste"},{name:"Amapá",initials:"AP",region:"Norte"},{name:"Amazonas",initials:"AM",region:"Norte"},{name:"Bahia",initials:"BA",region:"Nordeste"},{name:"Ceará",initials:"CE",region:"Nordeste"},{name:"Distrito Federal",initials:"DF",region:"Centro Oeste"},{name:"Espírito Santo",initials:"ES",region:"Sudeste"},{name:"Goiás",initials:"GO",region:"Centro Oeste"},{name:"Maranhão",initials:"MA",region:"Nordeste"},{name:"Mato Grosso",initials:"MT",region:"Centro Oeste"},{name:"Mato Grosso do Sul",initials:"MS",region:"Centro Oeste"},{name:"Minas Gerais",initials:"MG",region:"Sudeste"},{name:"Pará",initials:"PA",region:"Norte"},{name:"Paraíba",initials:"PB",region:"Nordeste"},{name:"Paraná",initials:"PR",region:"Sul"},{name:"Pernambuco",initials:"PE",region:"Nordeste"},{name:"Piauí",initials:"PI",region:"Nordeste"},{name:"Rio de Janeiro",initials:"RJ",region:"Sudeste"},{name:"Rio Grande do Norte",initials:"RN",region:"Nordeste"},{name:"Rio Grande do Sul",initials:"RS",region:"Sul"},{name:"Rondônia",initials:"RO",region:"Norte"},{name:"Roraima",initials:"RR",region:"Norte"},{name:"Santa Catarina",initials:"SC",region:"Sul"},{name:"São Paulo",initials:"SP",region:"Sudeste"},{name:"Sergipe",initials:"SE",region:"Nordeste"},{name:"Tocantins",initials:"TO",region:"Norte"}],_regionMap:(w={},b(w,"Norte",["AC","AP","AM","PA","RO","RR","TO"]),b(w,"Nordeste",["AL","BA","CE","MA","PB","PE","PI","RN","SE"]),b(w,"Centro Oeste",["DF","GO","MT","MS"]),b(w,"Sudeste",["ES","MG","RJ","SP"]),b(w,"Sul",["PR","RS","SC"]),w),_initLocationStorage:function(e){E.isNull(e.session.get(I))&&e.session.set(I,{})}},T=function(){function t(e){d(this,t),this._storage=e}return m(t,[{key:"getUserLocation",value:function(e){return D.getUserLocation(e,this._storage)}},{key:"getStates",value:function(){return D.getStates()}},{key:"getRegions",value:function(){return D.getRegions()}},{key:"filteredState",value:function(e){return D.filteredState(e)}},{key:"filteredRegion",value:function(e){return D.filteredRegion(e)}}]),t}();return function e(){d(this,e),this.version="0.8.0",this.name="@UtilifyJS",this.globalHelpers=new P,this.locationHelpers=new T(S),this.storage=S,this.cookies=n(function(){})}});